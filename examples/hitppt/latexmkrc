# LaTeX编译配置文件
# 用于博士答辩PPT的优化编译设置

# 使用XeLaTeX编译器
$pdf_mode = 5;  # 使用XeLaTeX
$postscript_mode = 0;  # 不生成PS文件
$dvi_mode = 0;  # 不生成DVI文件

# 编译器设置
$xelatex = 'xelatex -interaction=nonstopmode -halt-on-error -file-line-error %O %S';

# 预览设置
$pdf_previewer = 'start evince %O %S';  # Linux
# $pdf_previewer = 'start %O %S';  # Windows
# $pdf_previewer = 'open %O %S';  # MacOS

# 文件清理设置
$clean_ext = "aux log nav out snm toc vrb fls fdb_latexmk synctex.gz";

# 输出目录（可选，取消注释以使用）
# $out_dir = 'build';

# 自动清理
$cleanup_mode = 1;

# 连续编译模式设置
$sleep_time = 2;  # 文件监控间隔（秒）

# 错误处理
$failure_cmd = 'echo "编译失败，请检查错误信息"';

# Biber/BibTeX设置（PPT通常不需要，但保留以备用）
$biber = 'biber %O --bblencoding=utf8 -u -U --output_safechars %B';
$bibtex_use = 1.5;  # 优先使用biber

# 最大编译次数
$max_repeat = 3;

# 包含文件监控
@default_files = ('defense_presentation.tex');

# 强制重新编译的文件类型
push @file_not_found, '^Package .* No file `([^\']*)\'';

# 中文支持优化
$ENV{'TEXMFCACHE'} = '/tmp/texmfcache';  # 字体缓存目录